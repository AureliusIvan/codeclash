# OnlineJudge Backend Environment Variables
# Copy this file to .env and modify the values as needed

# =============================================================================
# Application Environment
# =============================================================================
# Environment mode: "dev" for development, "production" for production
# This determines which settings file is loaded (dev_settings.py vs production_settings.py)
OJ_ENV=dev

# =============================================================================
# Database Configuration (PostgreSQL)
# =============================================================================
# PostgreSQL database host
# Production default: oj-postgres (Docker container name)
# Development default: 127.0.0.1
POSTGRES_HOST=127.0.0.1

# PostgreSQL database port
# Production default: 5432
# Development default: 5435
POSTGRES_PORT=5435

# PostgreSQL database name
# REQUIRED in production, optional in development
# Development default: onlinejudge
POSTGRES_DB=onlinejudge

# PostgreSQL database username
# REQUIRED in production, optional in development
# Development default: onlinejudge
POSTGRES_USER=onlinejudge

# PostgreSQL database password
# REQUIRED in production, optional in development
# Development default: onlinejudge
# SECURITY NOTE: Use a strong password in production
POSTGRES_PASSWORD=onlinejudge

# =============================================================================
# Redis Configuration
# =============================================================================
# Redis host for caching and session storage
# Production default: oj-redis (Docker container name)
# Development default: 127.0.0.1
REDIS_HOST=127.0.0.1

# Redis port
# Production default: 6379
# Development default: 6380
REDIS_PORT=6380

# =============================================================================
# Judge Server Configuration
# =============================================================================
# Authentication token for judge servers to communicate with the backend
# If not provided, a random token will be generated automatically
# SECURITY NOTE: Use a strong, unique token in production
# JUDGE_SERVER_TOKEN=your_secure_judge_server_token_here

# =============================================================================
# Deployment and Security (Optional)
# =============================================================================
# Force HTTPS redirects (uncomment for production with HTTPS)
# FORCE_HTTPS=true

# CDN host for serving static files (optional)
# STATIC_CDN_HOST=cdn.example.com

# Custom IP header name for proxy setups (optional)
# Used when behind a reverse proxy like nginx
# LOWER_IP_HEADER=x_real_ip

# Maximum number of worker processes (optional)
# If not set, will be auto-calculated based on CPU cores
# MAX_WORKER_NUM=4

# =============================================================================
# Test Case Synchronization (Rsync) - Optional
# =============================================================================
# Only needed if using rsync for test case synchronization between servers

# Rsync mode: "master" or "slave"
# RSYNC_MODE=master

# Rsync username
# RSYNC_USER=ojrsync

# Rsync password
# SECURITY NOTE: Change this from the default value
# RSYNC_PASSWORD=CHANGE_THIS_PASSWORD

# =============================================================================
# Notes:
# =============================================================================
# 1. The application automatically generates a secret key in /data/config/secret.key
# 2. In production, ensure all REQUIRED variables are set
# 3. Database and Redis should be accessible from the application
# 4. Judge server token is used for secure communication with judge servers
# 5. For Docker deployments, use container names as hostnames